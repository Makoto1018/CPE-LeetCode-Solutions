## Problem Title

- **Problem Number**:  1633. Percentage of Users Attended a Contest
- **Difficulty**: easy
- **Link**: [LeetCode 問題連結](https://leetcode.com/problems/percentage-of-users-attended-a-contest/description/?envType=study-plan-v2&envId=top-sql-50)
- **是否有先參考別人的觀念**: 有
---

### Problem Description

Write a solution to find the percentage of the users registered in each contest rounded to two decimals.

Return the result table ordered by percentage in descending order. In case of a tie, order it by contest_id in ascending order.
---

### Approach

1. **思路概述**： 一樣是去想像 join 之後的表格然後去取想要的東西出來，排序的方式需要注意。
2. **關鍵步驟**：
   - 用 `SELECT count(user_id) FROM Users` 來去算所有的users
3. **時間複雜度分析**：$O(n)$

---

### Other Solution

> 其他的解法

---
### Summary

- **學到的新觀念**:
1. 排序方式是有優先順序的，如果遇到前面的條件相同，才會以下一個條件排序
- **遇到的困難點與解法**:
---

### code
```sql
-- Write your PostgreSQL query statement below
SELECT contest_id, round((count(r.user_id)*100.0/(SELECT count(user_id) FROM Users))::numeric,2) as percentage
FROM Users as u
JOIN Register as r
ON u.user_id = r.user_id
GROUP BY contest_id
ORDER BY percentage desc, contest_id asc;
```