## Problem Title

- **Problem Number**:  1141. User Activity for the Past 30 Days I
- **Difficulty**: easy
- **Link**: [LeetCode 問題連結](https://leetcode.com/problems/user-activity-for-the-past-30-days-i/description/?envType=study-plan-v2&envId=top-sql-50)
- **是否有先參考別人的觀念**:
1. 有，有去看date的計算方式
---

### Problem Description

Write a solution to find the daily active user count for a period of 30 days ending 2019-07-27 inclusively. A user was active on someday if they made at least one activity on that day.

Return the result table in any order.
---

### Approach

1. **思路概述**：用 date 去 group by 之後，使用 count(distinct) 去計算 active_user
2. **關鍵步驟**：
    - date 的處理
3. **時間複雜度分析**：$O(n)$

---

### Other Solution

> 其他的解法

---
### Summary

- **學到的新觀念**:
1. 各個 sql 的 date 處理 function
- **遇到的困難點與解法**:
---

### code
1. mysql DATE_SUB()
```sql
# Write your MySQL query statement below
SELECT activity_date AS day,
       count(distinct user_id) as active_users
FROM Activity
WHERE DATE_SUB('2019-07-27', INTERVAL 30 DAY)<activity_date and activity_date<='2019-07-27'
GROUP BY activity_date
```

2. postgreSQL 用 between
```sql
SELECT activity_date as day,
       count(distinct user_id) as active_users
FROM Activity
WHERE activity_date between '2019-06-28' and '2019-07-27'
GROUP BY activity_date;
```

3. postgreSQL 專用的function
```sql
select 
    activity_date as day,
    count(distinct user_id) as active_users
from activity
where activity_date > '2019-07-27'::date - interval '30 days' 
  and activity_date <= '2019-07-27'::date
group by activity_date
```