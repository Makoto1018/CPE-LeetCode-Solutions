## Problem Title

- **Problem Number**:  1581. Customer Who Visited but Did Not Make Any Transactions
- **Difficulty**: Easy
- **Link**: [LeetCode 問題連結](https://leetcode.com/problems/customer-who-visited-but-did-not-make-any-transactions/description/?envType=study-plan-v2&envId=top-sql-50)
- **是否有先參考別人的觀念**: 有
---

### Problem Description

Write a solution to find the IDs of the users who visited without making any transactions and the number of times they made these types of visits.

Return the result table sorted in any order.
---

### Approach

1. **思路概述**：使用 left JOIN，將兩表的資料串起來之後，count出null(並且為了count所以要group by) 。
2. **關鍵步驟**：
   - 使用 `left JOIN` 將兩表連接。
   - 使用 ON 條件：`v.visit_id = t.visit_id`
   - 使用 count ：COUNT(v.customer_id)
   - 搜尋條件：WHERE t.transaction_id is null
3. **時間複雜度分析**：$O(n)$ 其中 n 為　Visits　表的筆數（假設 ON 條件為 index）。

---

### Other Solution

> 其他的解法

---
### Summary

- **學到的新觀念**: 
1. count 的使用方法，需要加上 group by
2. join 跟 group by 的不同
- **遇到的困難點與解法**:

---

### code
```sql
SELECT v.customer_id, COUNT(v.customer_id) AS count_no_trans
FROM Visits as v
LEFT JOIN Transactions as t
ON v.visit_id = t.visit_id
WHERE t.transaction_id is null
GROUP BY v.customer_id;
```