## Problem Title

- **Problem Number**:  1327. List the Products Ordered in a Period
- **Difficulty**: easy
- **Link**: [LeetCode 問題連結](https://leetcode.com/problems/list-the-products-ordered-in-a-period/description/?envType=study-plan-v2&envId=top-sql-50)
- **是否有先參考別人的觀念**: 無
---

### Problem Description

Write a solution to get the names of products that have at least 100 units ordered in February 2020 and their amount.

Return the result table in any order.

---

### Approach

1. **思路概述**：
2. **關鍵步驟**：
3. **時間複雜度分析**：$O(n)$  

---

### Other Solution

> 其他的解法

---
### Summary

- **學到的新觀念**:
1. postgreSQL 可以用 `to_char('YYYY-MM')`
2. mySQL 用 `date_format('%Y-%m')`，也可以用`WHERE MONTH(o.order_date) = '02' AND YEAR(o.order_date) = '2020'`
- **遇到的困難點與解法**:

---

### code
1. 自己寫的
```sql
-- Write your PostgreSQL query statement below
SELECT product_name, SUM(unit) as unit
FROM Products p
JOIN Orders o
ON p.product_id = o.product_id
GROUP BY product_name, to_char(order_date,'YYYY-MM')
HAVING SUM(unit)>=100 and to_char(order_date,'YYYY-MM') = '2020-02';
```

2. 較快
```sql
SELECT product_name, SUM(unit) as unit
FROM Products p
JOIN Orders o
ON p.product_id = o.product_id
where  to_char(order_date,'YYYY-MM') = '2020-02'
GROUP BY product_name
HAVING SUM(unit)>=100;
```

3. mysql
```sql
# Write your MySQL query statement below
SELECT product_name, SUM(unit) as unit
FROM Products p
JOIN Orders o
ON p.product_id = o.product_id
where date_format(order_date,'%Y-%m') = '2020-02'
GROUP BY product_name
HAVING SUM(unit)>=100;
```

4. mysql
```sql
SELECT 
    p.product_name, 
    SUM(o.unit) AS unit 
FROM Products p
LEFT JOIN Orders o USING(product_id)
WHERE MONTH(o.order_date) = '02' AND YEAR(o.order_date) = '2020'
GROUP BY p.product_name
HAVING SUM(o.unit) >= 100
```