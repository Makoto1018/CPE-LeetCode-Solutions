## Problem Title

- **Problem Number**:  59. Spiral Matrix II
- **Difficulty**: Medium
- **Link**: [LeetCode 問題連結](https://leetcode.com/problems/spiral-matrix-ii/description/)
- **是否有先參考別人的觀念**: 無
---

### Problem Description

Given a positive integer n, generate an n x n matrix filled with elements from 1 to n2 in spiral order.
---

### Approach

1. **思路概述**：模擬
2. **關鍵步驟**：
初始時 left = 0, right = n - 1, up = 0, down = n - 1
按照 左到右 → 上到下 → 右到左 → 下到上 的順序填充數字
每次填充完一條邊後，縮小對應邊界 (left++, right--, up++, down--)
若 n 為奇數，最後中心點需要手動填入
3. **時間複雜度分析**：$O(n^2)$  

### Summary

- **學到的新觀念** 
1. 如何用 四個邊界指標 控制螺旋填充
- **遇到的困難點與解法**  
1. 如何確保邊界不會超出範圍？→ 使用 left, right, up, down 來收縮範圍
2. 如何處理 n 為奇數時的情況？→ 透過 if(left == right) 處理中心點
### code

```cpp
class Solution {
public:
    vector<vector<int>> generateMatrix(int n) {
        vector<vector<int>> res(n,vector<int>(n,0));
        if(n==1){
            res[0][0]=1;
            return res;
        }
        int left=0, right=n-1;
        int up=0, down=n-1;
        int ptr=0, ptr2=0;
        int ctr=1;
        for(int i=1;i<=n*n;){
            while(ptr2<right){    //左到右
                res[ptr][ptr2]=i;
                ptr2++;
                i++;
            }
            right--;
            while(ptr<down){    //上到下
                res[ptr][ptr2]=i;
                ptr++;
                i++;
            }
            down--;
            while(ptr2>left){    //右到左
                res[ptr][ptr2]=i;
                ptr2--;
                i++;
            }
            left++;
            while(ptr>up){    //下到上
                res[ptr][ptr2]=i;
                ptr--;
                i++;
            }
            up++;
            ptr=ctr;
            ptr2=ctr;
            ctr++;
            if(left==right){
                res[left][left] = i;
                i++;
            }
        }
        return res;
    }
};
```